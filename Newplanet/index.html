<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta 
     name='viewport' 
     content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' 
/>
<script
src="https://code.jquery.com/jquery-3.4.1.js"
integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
crossorigin="anonymous"></script>
<style type="text/css">
	*{
		margin:0;
		padding: 0;
		font-family: 'KoPub Batang', serif;
		word-break: keep-all;
	}
	img{
		width: 100vw;
		height: 360vw;
		position: relative;
    -webkit-user-select:none;
    -webkit-touch-callout:none;
	}
	body{
		height: 100%;
		background:linear-gradient(to right, rgb(48, 87, 214), white);
	}
	.wrapper{
		transform-origin: 80%;
		transition: 1s;
		width: 100vw;
		height: 100vh;
		position: fixed;
		left: 0;
		top: 0;
		overflow-y: scroll;
	}
	.wrapper_fly{
		transform: scale(1);
	}
	.popupbutton,
	.button{
		position: absolute;
		width: 95vw;
		height: 95vw;
		background-position: center;
		background-repeat: no-repeat;
		transition: 0.5s;
		z-index: 10000;
	}
	.button_0{
		border-radius: 50%;
		transform:translate(-50%, -50%) scale(0.2);
		left: 50vw;
		top: 50vw;
		border:0.8vw solid red;
		background-image: url(images/tree.png);
		background-size: contain;
	}
	.button_1{
		transform: translate(-50%, -50%) scale(0.4);
		left: 70vw;
		top: 115vw;
		background-image: url(images/din_1.png);
		background-size: contain;
	}
	.button_2{
		transform: translate(-50%, -50%) scale(0.6);
		left: 30vw;
		top: 220vw;
		background-image: url(images/din_2.png);
		background-size: contain;
	}
	.button_3{
		transform: translate(-50%, -50%) scale(0.4);
		left: 70vw;
		top: 335vw;
		background-image: url(images/din_3.png);
		background-size: contain;
	}
	.button_4{
		transform: translate(-50%, -50%) scale(0.2);
		left: 20vw;
		top: 305vw;
		background-image: url(images/fox.png);
		background-size: contain;
	}
	.button_5{
		transform: translate(-50%, -50%) scale(0.3);
		left: 20vw;
		top: 95vw;
		background-image: url(images/frog.png);
		background-size: contain;
	}
	.button_6{
		transform: translate(-50%, -50%) scale(0.3);
		left: 70vw;
		top: 335vw;
		background-image: url(images/bird.png);
		background-size: contain;
	}
	.popupbutton_1{
		transform: translate(-50%, -50%) scale(0.3);
		left: 70vw;
		top: 35vw;
		background-image: url(images/monkey_1.png);
		background-size: contain;
	}
	.popupbutton_2{
		transform: translate(-50%, -50%) scale(0.3);
		left: 30vw;
		top: 435vw;
		background-image: url(images/monkey_2.png);
		background-size: contain;
	}
	.popupbutton_3{
		transform: translate(-50%, -50%) scale(0.3);
		left: 70vw;
		top: 235vw;
		background-image: url(images/monkey_3.png);
		background-size: contain;
	}
	.button_visible{
		transform:translate(-50%, -50%) scale(1);
	}
	.content_warpper{
		pointer-events: none;
		z-index: 10000;
		position: fixed;
	}
	.planet2,
	.planet3,
	.planet4,
	.planet5{
		position: fixed;
		left: 0;
		top: 0;
		pointer-events: none;
	}
	.planet1{z-index: 5}
	.planet2{z-index: 4}
	.planet3{z-index: 3}
	.planet4{z-index: 2}
	.planet5{z-index: 1;opacity: 0.5;}
	.text{
		position: fixed;
		left: 50%;
		transform: translateX(-50%);
		bottom: 10px;
		z-index: 10000;
		width: 90vw;

		display: block;
		background: black;
		color: white;

		font-size: 5vw;
		text-align: center;
		line-height: 1.2;
		padding: 2vw;
		/* width: 18vw; */
		padding-top: 2.5vw;
		 opacity: 0; 
	}
	.texton{
		opacity: 1
	}
	.popup{
		width: 90vw;
		background:black;
		left: 5vw;
		position: fixed;
		top: 5vw;
		z-index: 100000;
		z-index: 100000;
padding: 5%;
box-sizing: border-box;
display: none;
border-radius: 2vw;
	}
	.popup img{
		width: 90%;
		position: relative;
		left: 5%;
		height: auto;
	}
	.popup div{
		color:white;
		font-size: 5vw;
		text-align: center;
	}
	.popup .closebutton{
display: inline-block;
left: 50%;
position: relative;
transform: translateX(-50%);
border: 0.5vw solid white;
padding: 2vw;
padding-bottom: 1.5vw;
border-radius: 2vw;}
	.black{
		pointer-events: none;
		opacity: 1
	}
.crack{
	width: 100vw;
	height: auto;
	transform: translate(-50%, -50%);
	z-index: 1000000000000000000000000000000000;
	position: fixed;
	opacity: 0;
	pointer-events: none;
}
.op_1, .op_2{
position: fixed;
z-index: 100000;
width: 100vw;
top: 45%;
transform: translateY(-150%);
height: 20vw;
pointer-events: none;
background: rgb(123, 147, 190);
box-shadow: 0vh 0vh 1vh 1vh rgb(123, 147, 190);
display: none;
}
.op_2{
	transform: none;
	}
.ppl{
	width: 18vw;
	height: 18vw;
	border-radius: 50%;
	position: absolute;
}
.op_1 .ppl{
	left: 0.5vw;
	border: 0.5vw solid red;
	background-image: url(../img/ppl_1.jpg);
	background-size: cover;
	background-position: bottom;
}
.op_2 .ppl{
	right: 0.5vw;
	border: 0.5vw solid blue;
	background-image: url(../img/ppl_2.jpg);
	background-size: cover;
	background-position: bottom;
}
.speaking{
	width: 70vw;
	left: 22vw;
	position: absolute;
	background: white;
	padding: 2vw;
	box-sizing: border-box;
	padding-bottom: 1.3vw;
	border-radius: 1vw;
	border: 0;
	top: 50%;
	transform: translateY(-50%);
	top: 50%;
}
.op_1 .speaking{
	right: 1vw;
	border: 0.5vw solid red
}
.op_2 .speaking{
right: 22vw;
border: 0.7vw solid blue;
left: auto;
}
.text .a_2, .selector_2 {
left: 48vw !important;
/*padding-bottom: 21vw;*/
}
</style>
    <link rel="stylesheet" href="../all.css"/>
<link rel='stylesheet' id='kopub-css'  href='https://cdn.jsdelivr.net/font-kopub/1.0/kopubbatang.css?ver=5.3' type='text/css' media='all' />
</head>
<body>
	<script type="text/javascript">
		var w = window.innerWidth
		var h = window.innerHeight
        // document.addEventListener('touchmove', function(e) {
        //     e.preventDefault();
 
        // }, { passive: false });
		function map_range(value, low1, high1, low2, high2) {
		    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);
		}

		$(document).ready(function(){
		text_1()
        function text_1(){
        	$('.black').show()
            $('.text').addClass('texton center')
            $('.text').html('X백년 뒤')
            setTimeout(function(){
                text_2()
            },3000)
        }
        function text_2(){
        	$('.black').fadeIn(1500)
            $('.text').html('도착한걸까?')
            setTimeout(function(){
                text_3()
            },3000)
        }
        function text_3(){
        	$('.black').fadeIn(1500)
            $('.text').html('화면을 두드려 동면상태에서 일어나보자.')
                $('.black').css({'pointer-events':'all'})
        }
        var counter_op = 0
		$('.black').bind('touchstart', function(e){
            $('.text').removeClass('texton center')
			counter_op ++
			if(counter_op == 1 ){
				$('.crack').css({'left':(e.targetTouches[0].clientX) + 'px'})
				$('.crack').css({'top':(e.targetTouches[0].clientY) + 'px'})
			}
			$('.crack').css({'opacity':counter_op/5})
			if(counter_op == 6){
				$('.black').hide()
				$('.crack').hide()
				text_4()
			}
		})
        function text_4(){
            $('.text').addClass('texton')
            $('.text').html('도착했다!')
            setTimeout(function(){
                text_5()
            },3000)
        }
        function text_5(){
            $('.text').html('다행히 지구와 비슷해 사람이 살 수 있을 것 같다.')
            setTimeout(function(){
                text_6()
            },3000)
        }
        function text_6(){
            $('.text').html('조금 더 살펴보도록 할까?')
                $('.black').css({'pointer-events':'all'})
        }


		// 이 행성에는 토착생명체가 있다. 
		// 선발대가 위험을 파악하기 위해 내려간다. 
		// 선발대가 가져온 결과는 놀랍다. 
		// 지구의 공룡을 연상하게 하는 거대 동물이 지상을 활보하는 등 온갖 크고 작은 생명체가 살고 있는 것이다. 
		// 게다가 샘플을 분석해 보니 이곳 동물의 생리가 지구의 동물과 매우 비슷하다. 심지어 인간과 비슷한 DNA까지 지니고 있다!

			var scrolltimeout 
		  	$(document).scroll(function(){
		  		var scrolltop = $(window).scrollTop()/w
		  		console.log(map_range(scrolltop, 0, 2.6, 0, 1))
		  		$('.planet2').css({'margin-top':map_range(scrolltop, 0, 2.6, 0, 1.8)*-100+'vw'})
		  		$('.planet3').css({'margin-top':map_range(scrolltop, 0, 2.6, 0, 1.5)*-100+'vw'})
		  		$('.planet4').css({'margin-top':map_range(scrolltop, 0, 2.6, 0, 2)*-100+'vw'})
		  		$('.planet5').css({'margin-top':map_range(scrolltop, 0, 2.6, 0, 2.5)*-100+'vw'})
		    })
		  	var button_array = [
		  		' 온갖 동식물이 행성 전체에 퍼져 살고 있다.',
		  		' 공룡을 닮은 듯한 거대 동물이 지상을 활보하고 있다.',
		  		' 공룡을 닮은 듯한 거대 동물이 지상을 활보하고 있다.',
		  		' 놀랍게도 토착생명체가 있다.'
		  		,
		  		' 온갖 크고 작은 생명체가 살고 있는 것 같다.',
		  		' 온갖 크고 작은 생명체가 살고 있는 것 같다.',
		  		' 온갖 크고 작은 생명체가 살고 있는 것 같다.'
		  		]
		  		var button_counter = 0
		$('.button').bind('touchstart', function(e){
			button_counter++
			e.preventDefault();
			var num = parseInt($(this).attr('class').split('button_')[1].split(' ')[0])
			$(this).addClass('button_visible')
			$('.text').html(button_array[num])
			$('.text').addClass('texton')
			if(button_counter > 7){
				$('.button').css({'pointer-events':'none'})
	            setTimeout(function(){
					$('.text').addClass('texton')
	                text_7()
	            },500)
			}
		})
		 // text_7()
        function text_7(){
        	$('.text').addClass('texton')
        	$('.text').addClass('texton_force')
            $('.text').html('우주선을 같이 탄 사람들 사이에서 논쟁이 들린다.')
        	$('.op_1').show()
        	$('.op_2').show()
            $('.op_1 .speaking').html('!!!$#@#^&!!!')
            $('.op_2 .speaking').html('!!!$#@#^&!!!')
            setTimeout(function(){
                text_8()
            },3000)
        }
        function text_8(){
        	$('.op_1').show()
            $('.op_1 .speaking').html('이미 자리잡고 있는 생명체의 터전을 빼앗을 수 없습니다.')
            setTimeout(function(){
                text_9()
            },3000)
        }
        function text_9(){
            $('.op_1 .speaking').html('다른 외계행성을 찾아 떠나야 합니다.')
            setTimeout(function(){
                text_10()
            },3000)
        }
        function text_10(){
        	$('.op_2').show()
            $('.op_2 .speaking').html('인간의 생존이 최우선입니다.')
            setTimeout(function(){
                text_11()
            },3000)
        }
        function text_11(){
            $('.op_2 .speaking').html('정착해야 합니다.')
            setTimeout(function(){
                text_12()
            },3000)
        }
        function text_12(){
        	$('.text').addClass('texton')
        	console.log($('.selector_1').outerHeight())
            $('.text').html('\
                어떻게 하면 좋을까?\
                <a href="../toanotherplanet.html" class="selector selector_1">다른 외계 행성을 찾자</a>\
                <a href="../start_building.html" class="selector selector_2 a_2">정착하자</a>\
                ')
        	$('.text').css({'padding-bottom':$('.selector_1').outerHeight() + 0.04*w})
        }
		$('.button').bind('touchend', function(e){
	    	e.preventDefault();
			$('.button').removeClass('button_visible')
			$('.text').html(' ')
			$('.text').removeClass('texton')
		});
			$('.popupbutton').click(function(){
				$('.popup').show()
			})
			$('.closebutton').click(function(){
				$('.popup').hide()
			})
		})
	</script>
	<img src="../img/crack.jpg" class='crack'>
		<img class="planet1 planet" src="planet1.png">
		<img class="planet2 planet" src="planet2.png">
		<img class="planet3 planet" src="planet3.png">
		<img class="planet4 planet" src="planet4.png">
		<img class="planet5 planet" src="planet5.png">
		<!-- <div class="button button_tree">&nbsp;</div> -->
	<div class="wrapper">
	</div>
		<div class="button button_0"></div>
		<div class="button button_1"></div>
		<div class="button button_2"></div>
		<div class="button button_3"></div>

		<div class="button button_4"></div>
		<div class="button button_5"></div>
		<div class="button button_6"></div>
		<div class="popupbutton popupbutton_1"></div>
		<div class="popupbutton popupbutton_2"></div>
		<div class="popupbutton popupbutton_3"></div>
		<div class="black"></div>
		<div class="text"></div>
		<div class="popup">
			<img src="images/dna.png">
			<div> 
				놀랍게도 분석 결과 이들의 DNA는 지구 생명체와 비슷하다.<br>
				공통의 조상을 갖고 있다고 설명할 수밖에 없다. 
				<br><br>
			</div>
			<div class='closebutton'>
				확인
			</div>
		</div>

		<div class="op_1">
			<div class="ppl"></div>
			<div class="speaking"></div>
		</div>
		<div class="op_2">
			<div class="ppl"></div>
			<div class="speaking"></div>
		</div>
</body>
</html>